{% load static %}
<!DOCTYPE html>
<html lang="es" x-data="{ sidebarOpen: true }">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>{% block title %}sidebar{% endblock %}</title>
  <link href="{% static 'css/dist/styles.css' %}" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
</head>
<body class="flex min-h-screen bg-white text-gray-900">
  <!-- Botón flecha para abrir/cerrar -->
  <button @click="sidebarOpen = !sidebarOpen"
          class="fixed top-4 left-4 z-50 bg-white text-[#00304D] border border-[#00304D] rounded-full w-8 h-8 flex items-center justify-center shadow-md transition-transform duration-300"
          :class="!sidebarOpen ? 'rotate-180 left-4' : 'md:left-64'">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
    </svg>
  </button>

  <!-- SIDEBAR FIJO -->
  <aside :class="sidebarOpen ? 'w-60' : 'w-20'"
         class="fixed top-0 left-0 h-screen bg-[#00304D] text-white flex-col items-center p-4 shadow-[inset_-5px_0_15px_rgba(0,0,0,0.5)] z-40 flex transition-all duration-300">

    <!-- Usuario -->
    <div class="flex flex-col items-center mb-8" x-show="sidebarOpen" x-transition>
      <div class="relative w-[110px] h-[110px] md:w-[130px] md:h-[130px] rounded-full bg-white border-4 border-black flex items-center justify-center shadow-[0_0_0_6px_#00304D]">
        <img src="{% static 'img/usuario.png' %}" alt="Foto de usuario"
             class="w-[90px] h-[90px] md:w-[110px] md:h-[110px] rounded-full object-cover border-4 border-white">
      </div>
      <span class="mt-2 font-bold bg-black px-3 py-1 rounded-full text-sm md:text-base">USERNAME</span>
    </div>

    <!-- Navegación -->
    <nav class="flex flex-col gap-2 w-full px-2 text-sm md:text-base">

      <a href="{% url 'index' %}" title="Principal"
         class="transition hover:scale-105 flex items-center gap-3 font-medium py-2 rounded-xl border-2 border-gray-700 bg-white text-black shadow-md
                {% if request.resolver_match.url_name == 'index' %}bg-gray-300 shadow-inner{% endif %}">
        <img src="{% static 'img/principal.png' %}" alt="Principal" class="w-5 h-5">
        <span x-show="sidebarOpen" x-transition>Principal</span>
      </a>

      <a href="{% url 'funcionario' %}" title="Funcionario"
         class="transition hover:scale-105 flex items-center gap-3 font-medium py-2 rounded-xl border-2 border-gray-700 bg-white text-black shadow-md
                {% if request.resolver_match.url_name == 'funcionario' %}bg-gray-300 shadow-inner{% endif %}">
        <img src="{% static 'img/user.png' %}" alt="Principal" class="w-5 h-5">
        <span x-show="sidebarOpen" x-transition>Funcionario</span>
      </a>

      <a href="{% url 'cargo' %}" title="Cargo"
         class="transition hover:scale-105 flex items-center gap-3 font-medium py-2 rounded-xl border-2 border-gray-700 bg-white text-black shadow-md
                {% if request.resolver_match.url_name == 'cargo' %}bg-gray-300 shadow-inner{% endif %}">
        <img src="{% static 'img/cargo.png' %}" alt="Principal" class="w-5 h-5">
        <span x-show="sidebarOpen" x-transition>Cargo</span>
      </a>

      <a href="{% url 'grupo_sena' %}" title="Grupos SENA"
         class="transition hover:scale-105 flex items-center gap-3 font-medium py-2 rounded-xl border-2 border-gray-700 bg-white text-black shadow-md
                {% if request.resolver_match.url_name == 'grupo_sena' %}bg-gray-300 shadow-inner{% endif %}">
        <img src="{% static 'img/grupoSena.png' %}" alt="Principal" class="w-5 h-5">
        <span x-show="sidebarOpen" x-transition>Grupos SENA</span>
      </a>

      <a href="{% url 'reportes' %}" title="Reportes"
         class="transition hover:scale-105 flex items-center gap-3 font-medium py-2 rounded-xl border-2 border-gray-700 bg-white text-black shadow-md
                {% if request.resolver_match.url_name == 'reportes' %}bg-gray-300 shadow-inner{% endif %}">
        <img src="{% static 'img/reportes.png' %}" alt="Principal" class="w-5 h-5">
        <span x-show="sidebarOpen" x-transition>Reportes</span>
      </a>

      <a href="{% url 'id_planta' %}" title="ID Planta"
         class="transition hover:scale-105 flex items-center gap-3 font-medium py-2 rounded-xl border-2 border-gray-700 bg-white text-black shadow-md
                {% if request.resolver_match.url_name == 'id_planta' %}bg-gray-300 shadow-inner{% endif %}">
        <img src="{% static 'img/cargo.png' %}" alt="Principal" class="w-5 h-5">
        <span x-show="sidebarOpen" x-transition>ID Planta</span>
      </a>

      <a href="{% url 'solicitudes' %}" title="Solicitudes"
         class="transition hover:scale-105 flex items-center gap-3 font-medium py-2 rounded-xl border-2 border-gray-700 bg-white text-black shadow-md
                {% if request.resolver_match.url_name == 'solicitudes' %}bg-gray-300 shadow-inner{% endif %}">
        <img src="{% static 'img/solicitudes.png' %}" alt="Principal" class="w-5 h-5">
        <span x-show="sidebarOpen" x-transition>Solicitudes</span>
      </a>

      <a href="{% url 'solicitudes' %}" title="Autorizaciones"
         class="transition hover:scale-105 flex items-center gap-3 font-medium py-2 rounded-xl border-2 border-gray-700 bg-white text-black shadow-md
                {% if request.resolver_match.url_name == 'solicitudes' %}bg-gray-300 shadow-inner{% endif %}">
        <img src="{% static 'img/autorizaciones.png' %}" alt="Principal" class="w-5 h-5">
        <span x-show="sidebarOpen" x-transition>Autorizaciones</span>
      </a>

      <a href="{% url 'solicitudes' %}" title="Bitacora"
         class="transition hover:scale-105 flex items-center gap-3 font-medium py-2 rounded-xl border-2 border-gray-700 bg-white text-black shadow-md
                {% if request.resolver_match.url_name == 'solicitudes' %}bg-gray-300 shadow-inner{% endif %}">
        <img src="{% static 'img/bitacora.png' %}" alt="Principal" class="w-5 h-5">
        <span x-show="sidebarOpen" x-transition>Bitacora</span>
      </a>

    </nav>

    <!-- Botón Salir -->
    <div class="mt-auto w-full px-2">
      <a href="#" title="Salir"
         class="transition hover:scale-105 flex items-center gap-3 font-medium py-2 rounded-xl border border-gray-700 bg-white text-black shadow-md">
        <img src="{% static 'img/salir.png' %}" alt="Principal" class="w-5 h-5">
        <span x-show="sidebarOpen" x-transition>Salir</span>
      </a>
    </div>
  </aside>

  <!-- CONTENIDO Y FOOTER -->
  <div class="flex flex-col flex-1 min-h-screen transition-all duration-300"
       :class="sidebarOpen ? 'ml-60' : 'ml-20'">

    <!-- CONTENIDO SCROLLEABLE -->

    <main class="flex-1 overflow-y-auto py-6 px-4 md:px-6 bg-white">
      {% block content %}{% endblock %}
    </main>

    <!-- FOOTER FIJO AL FINAL -->
    <footer class="h-16 bg-gray-300 flex justify-center items-center gap-6">
      <a href="https://www.facebook.com/SENACauca" target="_blank" title="Facebook SENA">
        <img src="{% static 'img/facebook.png' %}" alt="Facebook SENA"
             class="w-8 h-8 opacity-70 hover:opacity-100 hover:scale-110 transition duration-300">
      </a>
      <a href="https://www.tiktok.com/@senacomunica_" target="_blank" title="TikTok SENA">
        <img src="{% static 'img/tiktok.png' %}" alt="TikTok SENA"
             class="w-8 h-8 opacity-70 hover:opacity-100 hover:scale-110 transition duration-300">
      </a>
      <a href="https://www.instagram.com/sena.regionalcauca/" target="_blank" title="Instagram SENA">
        <img src="{% static 'img/instagram.png' %}" alt="Instagram SENA"
             class="w-8 h-8 opacity-70 hover:opacity-100 hover:scale-110 transition duration-300">
      </a>
      <a href="https://www.youtube.com/user/SENATV" target="_blank" title="YouTube SENA">
        <img src="{% static 'img/youtube.png' %}" alt="YouTube SENA"
             class="w-8 h-8 opacity-70 hover:opacity-100 hover:scale-110 transition duration-300">
      </a>
    </footer>
  </div>

</body>
</html>